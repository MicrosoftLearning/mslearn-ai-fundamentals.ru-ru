---
lab:
  title: Анализ изображений на портале Azure AI Foundry
---

# Анализ изображений на портале Azure AI Foundry

**Azure AI Vision** включает множество возможностей для понимания содержимого изображения и контекста и извлечения информации из изображений. В этом упражнении вы будете использовать Azure AI Vision на портале Azure AI Foundry, платформе Майкрософт для создания интеллектуальных приложений, чтобы проанализировать изображения с помощью встроенных возможностей. 

Предположим, вымышленный розничный торговец *Northwind Traders* решил реализовать "смарт-магазин", в котором службы ИИ отслеживают магазин для выявления клиентов, требующих помощи, и прямых сотрудников, чтобы помочь им. С помощью Azure AI Vision изображения, сделанные камерами в магазине, можно проанализировать, чтобы предоставить значимые описания того, что они изображают.

Это упражнение занимает около **20** минут.

## Скачивание и извлечение файлов изображений

1. Скачайте **[image-analysis.zip](https://aka.ms/mslearn-images-for-analysis)**.`https://aka.ms/mslearn-images-for-analysis`
1. Извлеките скачанный файл .zip в папку на компьютере.

## Создание проекта на портале Azure AI Foundry

1. В веб-браузере откройте [портал](https://ai.azure.com) `https://ai.azure.com` Azure AI Foundry и войдите с помощью учетных данных Azure. Закройте все советы или панели быстрого запуска, открываемые при первом входе, и при необходимости используйте **логотип Azure AI Foundry** в левом верхнем углу, чтобы перейти на домашнюю страницу, которая выглядит следующим образом (закройте **панель справки** , если она открыта):

    ![Снимок экрана: домашняя страница портала Azure AI Foundry.](./media/ai-foundry-portal.png)

1. Прокрутите страницу до нижней части страницы и выберите плитку **"Обзор служб** ИИ Azure".

    ![Снимок экрана: плитка "Обзор служб ИИ Azure".](./media/ai-services.png)

1. На странице "Службы искусственного интеллекта Azure" выберите плитку **"Визуальное распознавание и документ** ".

    ![Снимок экрана: плитка "Зрение и документ".](./media/vision-tile.png)

1. **На странице "Зрение и документ**" просмотрите **вкладку "Изображение**" и выберите плитку **"Подпись** изображения".

    ![Снимок экрана: плитка заголовка изображения.](./media/image-captioning-tile.png)

1. **В области "Добавление подписей к изображениям**" нажмите **кнопку "Выбрать концентратор**", чтобы **создать новый концентратор** со следующими параметрами:
    - **Имя** концентратора: *введите допустимое имя концентратора.*
    - **Подписка**: *ваша подписка Azure*
    - **Группа** ресурсов. *Создание или выбор группы ресурсов*
    - **Расположение**: *выберите одно из следующих расположений*/*:
        - Восточная часть США
        - Центральная Франция
        - Республика Корея, центральный регион
        - Западная Европа
        - западная часть США
    - **Подключение служб** ИИ Azure. *Создание нового ресурса Служб искусственного интеллекта Azure с допустимым именем*
    - **Подключение поиска** ИИ Azure: пропуск подключения

    \**На момент написания статьи Azure AI Vision поддерживается в центрах в этих регионах*.

1. При создании концентратора вам будет предложено создать проект. Введите подходящее имя проекта и нажмите кнопку **"Создать проект**".

## Создание подписей для изображения

Давайте используем функцию подписи изображений Azure AI Vision для анализа изображений, сделанных камерой в *магазине Northwind Traders* . Заголовки изображений доступны с помощью **функций субтитров** и **плотных субтитров** .

1. В области задач слева выберите **службы** ИИ.

    *Теперь необходимо повторить шаги, которые вы использовали ранее, чтобы вернуться к интерфейсу заголовков изображений и использовать новый проект на основе концентратора.*

1. **На странице "Службы** искусственного интеллекта" выберите плитку **"Визуальное распознавание и документ**". Затем на странице "Визуальное и документ" на **вкладке **"Изображение**" выберите плитку **"Заголовок**** изображения".

1. **На странице "Добавление подписей к изображениям**" в *меню выбора подключенных служб* ИИ Azure убедитесь, что выбран ресурс служб ИИ Azure, созданный в центре.

1. Перейдите **по ссылке на файл** , чтобы отправить **изображение store-camera-1.jpg** из скачанных и извлеченных ранее файлов.

1. Просмотрите созданный текст заголовка, видимый на **панели обнаруженных атрибутов** справа от изображения.

    ![Снимок экрана: добавление подписей на страницу изображений с проанализированным изображением.](./media/image-captioning.png)

    Функция **субтитров** предоставляет одно удобочитаемое на английском языке предложение, описывающее содержимое изображения.

1. Затем используйте то же изображение для выполнения **плотной подписи**. Вернитесь на **страницу "Визуальное и документирование", выбрав *&larr;**** стрелку назад* в верхней части страницы, а затем на **вкладке "Визуальное и документ****" на вкладке "Изображение **", **выбрав **плитку "Плотная подпись".**

    Функция **"Плотные подписи" отличается от **возможности субтитров****, в том, что она предоставляет несколько подписей, доступных для чтения для изображения, один из которых описывает содержимое изображения и другие, каждый из которых охватывает основные объекты, обнаруженные на рисунке. Каждый обнаруженный объект включает ограничивающий прямоугольник, который определяет координаты пикселей в изображении, связанном с объектом.

1. **Отправьте изображение store-camera-1.jpg** еще раз и просмотрите результаты плотного заголовка.

    ![Снимок экрана: результаты плотного каптинирования.](./media/dense-captioning.png)

    Наведите указатель мыши на любой из подписей в **списке обнаруженных атрибутов** и обратите внимание, что подпись создается для каждого объекта, обнаруженного на изображении.

## Добавление тегов к изображениям 

Следующая функция, которая будет пытаться, — *это функция извлечения тегов* . Извлечение тегов основано на тысячах узнаваемых объектов, включая живые существа, пейзажи и действия.

1. Вернитесь на **страницу "Визуальное и документирование**", выбрав ****&larr;*стрелку назад* в верхней части страницы. Затем на странице "Визуальное и документ" на **вкладке **"Изображение**" выберите плитку **извлечения** общих тегов.**
1. **Отправьте файл store-camera-2.jpg** из папки, извлеченной ранее.
1. Просмотрите список тегов, извлеченных из изображения, и оценку достоверности для каждой из обнаруженных атрибутов. Здесь оценка достоверности — это вероятность того, что текст для обнаруженного атрибута описывает то, что на самом деле находится на изображении. Обратите внимание на список тегов, которые он включает не только объекты, но и действия, такие как *покупки*, *продажи* и *стояние*.

    ![Снимок экрана: панель "Обнаружение атрибутов" в Студии визуального распознавания с текстом и оценками достоверности, отображаемыми рядом с исходным изображением.](./media/analyze-images-vision/detect-attributes.png)

## Обнаружение объектов

В этой задаче используется **функция обнаружения** объектов анализа изображений. Обнаружение объектов обнаруживает и извлекает ограничивающие прямоугольники на основе тысяч узнаваемых объектов и живых существ.

1. Вернитесь на **страницу "Визуальное и документирование**", выбрав ****&larr;*стрелку назад* в верхней части страницы. Затем на вкладке **"Изображение"** выберите плитку **"Общее обнаружение** объектов".

1. **Отправьте файл store-camera-3.jpg**.

1. **В поле "Обнаруженные атрибуты"** просмотрите список обнаруженных объектов и их оценки достоверности.

    ![Снимок экрана: результаты плотного каптинирования.](./media/object-detection.png)

1. Попробуйте обнаружить объекты в **store-camera-4.jpg**

## Очистка

Если вы не собираетесь выполнять больше упражнений, удалите все ресурсы, которые больше не нужны. Это позволяет избежать каких-либо ненужных затрат.

1. [Откройте портал Azure]( https://portal.azure.com) и выберите группу ресурсов, содержащую созданные ресурсы. 
1. Выберите **"Удалить группу ресурсов", а затем **введите имя** группы** ресурсов, чтобы подтвердить. Затем группа ресурсов удаляется.

## Подробнее

Дополнительные сведения о том, что можно сделать с этой службой, см. на [странице](https://learn.microsoft.com/azure/ai-services/computer-vision/overview) "Распознавание искусственного интеллекта Azure".
