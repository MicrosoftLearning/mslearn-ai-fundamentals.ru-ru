---
lab:
  title: Анализ изображений в Visual Studio
---

# Анализ изображений в Visual Studio 

**Azure AI Vision** включает множество возможностей для понимания содержимого изображения и контекста и извлечения информации из изображений. Azure AI Vision Studio позволяет попробовать множество возможностей анализа изображений. 

В этом упражнении вы будете использовать Vision Studio для анализа изображений с помощью встроенных интерфейсов. Предположим, вымышленный розничный торговец *Northwind Traders* решил реализовать "смарт-магазин", в котором службы ИИ отслеживают магазин для выявления клиентов, требующих помощи, и прямых сотрудников, чтобы помочь им. С помощью Azure AI Vision изображения, сделанные камерами в магазине, можно проанализировать, чтобы предоставить значимые описания того, что они изображают.

## Создание ресурса *Служб ИИ Azure*

Вы можете использовать возможности анализа изображений Azure AI Vision с ресурсом **нескольких служб** ИИ Azure. Если вы еще этого не сделали, создайте ресурс **Службы ИИ Azure** в своей подписке Azure.

1. На другой вкладке браузера откройте портал Azure, [https://portal.azure.com](https://portal.azure.com?azure-portal=true)выполнив вход с учетной записью Майкрософт, связанной с вашей подпиской Azure.

1. Щелкните кнопку **＋Создать ресурс** и найдите *Службы ИИ Azure*. Выберите **создать** план**Службы ИИ Azure**. Вы перейдете на страницу, чтобы создать ресурс служб ИИ Azure. Настройте, используя следующие параметры:
    - **Подписка**: *ваша подписка Azure*.
    - **Группа ресурсов**: *выберите существующую или создайте новую группу ресурсов с уникальным именем*.
    - **Регион**: Восточная часть США.
    - **Имя**: *укажите уникальное имя*.
    - **Ценовая категория**: *Standard S0.*
    - **В проверка этом поле я признаю, что я прочитал и понял все термины ниже**: *Выбрано*.

1. Нажмите кнопку **"Рецензирование" и "****Создать**" и дождитесь завершения развертывания.

## Подключение ресурс службы искусственного интеллекта Azure в Vision Studio

Затем подключите ресурс службы ИИ Azure, подготовленный выше, к Vision Studio.

1. На другой вкладке браузера перейдите в [Visual Studio](https://portal.vision.cognitive.azure.com?azure-portal=true).

1. Войдите с учетной записью и убедитесь, что вы используете тот же каталог, что и ресурс служб ИИ Azure.

1. На домашней странице Visual Studio выберите **"Просмотреть все ресурсы** " в заголовке **"Начало работы с зрением** ".

    ![Ссылка на просмотр всех ресурсов выделена в разделе "Начало работы с Зрением" в Visual Studio.](./media/analyze-images-vision/vision-resources.png)

1. **На странице "Выбор ресурса"** наведите указатель мыши на ресурс, созданный выше в списке, а затем проверка поле слева от имени ресурса, а затем выберите "**Выбрать как ресурс** по умолчанию".

    > **Примечание.** Если ресурс не указан, может потребоваться **обновить** страницу.

    ![Ресурс Select to work dialog отображается с выделенным ресурсом cog-ms-learn-vision-SUFFIX Cognitive Services и проверка. Выделена кнопка "Выбрать как ресурс по умолчанию".](./media/analyze-images-vision/default-resource.png)

1. Закройте страницу параметров, выбрав "x" в правом верхнем углу экрана.

## Создание подпись для образа

Теперь вы готовы использовать Vision Studio для анализа изображений, сделанных камерой в *магазине Northwind Traders* .

Давайте рассмотрим функции подпись изображений в Azure AI Vision. Изображения подпись доступны с помощью **функций субтитров** и **плотных подписей**.

1. В веб-браузере перейдите в [Visual Studio](https://portal.vision.cognitive.azure.com?azure-portal=true).

1. На целевой **странице "Начало работы с зрением**" выберите **вкладку "Анализ** изображений" и выберите плитку **"Добавить подпись" на плитку изображений**.

    ![На домашней странице Visual Studio выбрана вкладка "Анализ изображений" и выделена. Выделен элемент "Добавить подпись к изображениям".](./media/analyze-images-vision/add-captions.png)

1. **В подзаголовок Try It Out** подтвердите политику использования ресурсов, прочитав и проверка поле.  

1. Выберите[**https://aka.ms/mslearn-images-for-analysis](https://aka.ms/mslearn-images-for-analysis)**, чтобы скачать **image-analysis.zip.** Откройте папку на компьютере и найдите файл с именем **store-camera-1.jpg**; который содержит следующее изображение:

    ![Изображение родителя, снимающего ребенка в магазине на камеру сотового телефона](./media/analyze-images-vision/store-camera-1.jpg)

1. **Отправьте изображение store-camera-1.jpg**, перетащив его в **поле перетаскивания или** перейдя к нему в файловой системе.

1. Просмотрите созданный подпись текст, видимый на **панели "Обнаруженные атрибуты**" справа от изображения.

    Функция **субтитров** предоставляет одно удобочитаемое на английском языке предложение, описывающее содержимое изображения.

1. Затем используйте то же изображение для выполнения **плотного подпись.** Вернитесь на **домашнюю страницу Visual Studio** и, как и раньше, выберите **вкладку "Анализ** изображений", а затем выберите плитку **"Плотная подпись".**

    Функция **"Плотные подписи" отличается от **возможности субтитров****, в том, что она предоставляет несколько удобочитаемых подпись изображения, один из которых описывает содержимое изображения и другие, каждый из которых охватывает основные объекты, обнаруженные на рисунке. Каждый обнаруженный объект включает ограничивающий прямоугольник, который определяет координаты пикселей в изображении, связанном с объектом.

1. Наведите указатель мыши на один из подпись в **списке обнаруженных** атрибутов и просмотрите, что происходит в изображении.

    ![Отображается изображение и его подпись.](./media/analyze-images-vision/dense-captioning.png)

    Переместите курсор мыши на другие подпись в списке и обратите внимание, как ограничивающий прямоугольник сдвигается на изображении, чтобы выделить часть изображения, используемую для создания подпись.

## Добавление тегов к изображениям

Следующая функция, которая будет пытаться, — **это функция извлечения тегов** . Извлечение тегов основано на тысячах узнаваемых объектов, включая живые существа, пейзажи и действия.

1. Вернитесь на домашнюю страницу Visual Studio, а затем выберите **общие теги из плитки изображений на вкладке **"Анализ** изображений**".

2. В разделе " **Выбор модели", которую вы хотите попробовать**, оставьте **предварительно созданную модель продукта и модель** пробела. В разделе " **Выбор языка**" выберите **английский** или язык вашего предпочтения.

3. Откройте папку, содержащую скачанные изображения и найдите файл с именем **store-image-2.jpg**, который выглядит следующим образом:

    ![Изображение человека с корзиной для покупок в супермаркете](./media/analyze-images-vision/store-camera-2.jpg)

4. **Отправьте файл store-camera-2.jpg**.

5. Просмотрите список тегов, извлеченных из изображения, и оценку достоверности для каждой из обнаруженных атрибутов. Здесь оценка достоверности — это вероятность того, что текст для обнаруженного атрибута описывает то, что на самом деле находится на изображении. Обратите внимание на список тегов, которые он включает не только объекты, но и действия, такие как *покупки*, *продажи* и *стояние*.

    ![Снимок экрана: панель "Обнаружение атрибутов" в Студии визуального распознавания с текстом и оценками достоверности, отображаемыми рядом с исходным изображением.](./media/analyze-images-vision/detect-attributes.png)

## Обнаружение объектов

В этой задаче используется **функция обнаружения** объектов анализа изображений. Обнаружение объектов обнаруживает и извлекает ограничивающие прямоугольники на основе тысяч узнаваемых объектов и живых существ.

1. Вернитесь на домашнюю страницу Visual Studio, а затем выберите элемент **"Обнаружение общих объектов в изображениях" на вкладке **"Анализ** изображений**".

1. В разделе " **Выбор модели", которую вы хотите попробовать**, оставьте **предварительно созданную модель продукта и модель** пробела.

1. Откройте папку, содержащую скачанные изображения и найдите файл с именем **store-camera-3.jpg**, который выглядит следующим образом:

    ![Изображение человека с тележкой для покупок](./media/analyze-images-vision/store-camera-3.jpg)

1. **Отправьте файл store-camera-3.jpg**.

1. **В поле "Обнаруженные атрибуты"** просмотрите список обнаруженных объектов и их оценки достоверности.

1. Наведите указатель мыши на объекты в списке **обнаруженных атрибутов** , чтобы выделить ограничивающий прямоугольник объекта на изображении.

1. **Переместите ползунок порогового значения**, пока не появится значение 70 справа от ползунка. Просмотрите, что происходит с объектами в списке. Ползунок порогового значения указывает, что должны отображаться только объекты, идентифицированные с оценкой достоверности или вероятностью, превышающей пороговое значение.

## Очистка

Если вы не собираетесь выполнять больше упражнений, удалите все ресурсы, которые больше не нужны. Это позволяет избежать каких-либо ненужных затрат.

1.  [Откройте портал Azure]( https://portal.azure.com) и выберите группу ресурсов, содержащую созданный ресурс. 
1.  Выберите ресурс и нажмите кнопку **"Удалить** ", а затем **"Да** ", чтобы подтвердить. Затем ресурс удаляется.

## Подробнее

Дополнительные сведения о том, что можно сделать с этой службой, см. на [странице](https://learn.microsoft.com/azure/ai-services/computer-vision/overview) "Распознавание искусственного интеллекта Azure".
